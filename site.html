<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üß† –¢–µ—Å—Ç –Ω–∞ IQ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right bottom, #6a82fb, #fc5c7d);
      color: white;
      min-height: 100vh;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: start;
      padding: 40px 20px;
    }

    h1, h2 {
      text-align: center;
    }

    .container {
      max-width: 500px;
      width: 100%;
      text-align: center;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      backdrop-filter: blur(10px);
      padding: 30px;
      transition: all 0.6s ease;
      opacity: 0;
      transform: translateY(50px);
      animation: fadeInUp 1s forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hidden {
      display: none;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: white;
    }

    .question {
      font-size: 1.1rem;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 10px;
      cursor: pointer;
      padding: 10px;
      border-radius: 8px;
      transition: background 0.3s, transform 0.2s;
    }

    label:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.02);
    }

    input[type="radio"] {
      margin-right: 10px;
    }

    button {
      background: linear-gradient(135deg, #fff, #f0f0f0);
      color: #4a90e2;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
      transition: all 0.3s ease;
    }

    button:hover {
      transform: scale(1.05);
    }

    footer {
      text-align: center;
      margin-top: 30px;
      color: #ddd;
      font-size: 0.9rem;
    }

    .chart-container {
      height: 300px;
      margin: 20px auto;
    }

    @media (max-width: 600px) {
      .container {
        padding: 20px;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1><img src="https://emojipedia.org/static/images/emoji/apple/15.4/brain_1f9e0.png"  alt="üß†" width="30"> –¢–µ—Å—Ç –Ω–∞ IQ</h1>
  <input type="text" id="username" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" style="padding: 10px; width: 100%; margin-bottom: 10px;">
  <button onclick="startTest()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
</div>

<div class="container hidden" id="testContainer">
  <h2>üß† –¢–µ—Å—Ç –Ω–∞ IQ</h2>
  <div id="questionContainer"></div>
  <button onclick="nextQuestion()" id="nextBtn">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
</div>

<div class="container hidden" id="dashboard">
  <h2>üìä –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
  <p id="userGreeting"></p>
  <p><strong>–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> <span id="lastScore">-</span></p>
  <div class="chart-container">
    <canvas id="scoreChart"></canvas>
  </div>
  <button onclick="restartTest()">üîÑ –ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
</div>

<footer>
  &copy; 2025 –¢–µ—Å—Ç –Ω–∞ IQ ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã
</footer>

<script>
  const questions = [
    { text: "–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏–º? 1, 2, 4, 7, 11, ___", options: ["14", "15", "16", "17"], correct: "c" },
    { text: "–ï—Å–ª–∏ A = 1, B = 2, D = 4, —Ç–æ —á–µ–º—É —Ä–∞–≤–Ω–æ F?", options: ["5", "6", "7", "8"], correct: "b" },
    { text: "–°–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤ –∏–º–µ—é—Ç 28 –¥–Ω–µ–π?", options: ["–û–¥–∏–Ω", "–î–≤–∞", "–í—Å–µ", "–ù–∏ –æ–¥–Ω–æ–≥–æ"], correct: "c" },
    { text: "–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –ª–∏—à–Ω–µ–µ?", options: ["–°–ª–æ–Ω", "–õ–µ–≤", "–ö–µ–Ω–≥—É—Ä—É", "–ë–µ–≥–µ–º–æ—Ç"], correct: "d" },
    { text: "–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?", options: ["–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å", "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å", "–ù–∏–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å", "–ù–∏–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å"], correct: "a" },
    { text: "–ß–∏—Å–ª–æ : —Ü–∏—Ñ—Ä–∞ = –°–ª–æ–≤–æ : ___", options: ["–±—É–∫–≤–∞", "—è–∑—ã–∫", "–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "—Ñ—Ä–∞–∑–∞"], correct: "a" },
    { text: "A, C, E, G, ___", options: ["H", "I", "J", "K"], correct: "b" },
    { text: "–ï—Å–ª–∏ –≤—Å–µ —Ü–≤–µ—Ç—ã ‚Äî —Ä–∞—Å—Ç–µ–Ω–∏—è, –∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è ‚Äî —è–¥–æ–≤–∏—Ç—ã–µ, —Ç–æ:", options: ["–í—Å–µ —Ü–≤–µ—Ç—ã —è–¥–æ–≤–∏—Ç—ã", "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ü–≤–µ—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —è–¥–æ–≤–∏—Ç—ã–º–∏", "–¶–≤–µ—Ç—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —è–¥–æ–≤–∏—Ç—ã–º–∏", "–í—Å–µ –Ω–µ–≤–µ—Ä–Ω–æ"], correct: "b" },
    { text: "–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ: 0.1 –∏–ª–∏ 0.11?", options: ["0.1", "0.11", "—Ä–∞–≤–Ω—ã", "–Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ"], correct: "b" },
    { text: "–ö–∞–∫–æ–π —Å–∏–º–≤–æ–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–º–µ—Å—Ç–æ –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–Ω–∞–∫–∞? üî∫ + üî∫ = ‚¨õ; üî∫ + ‚¨õ = üî≤; üî≤ + üî∫ = ?", options: ["üî≤", "üî∫", "‚¨õ", "üîµ"], correct: "c" },
    { text: "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ: 2, 4, 8, 16, ___", options: ["24", "30", "32", "40"], correct: "c" },
    { text: "–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å? 10 + ___ = 25 - 5", options: ["5", "10", "15", "20"], correct: "b" },
    { text: "–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ —Å–ª–µ–¥—É–µ—Ç –ø–æ—Å–ª–µ —Å–ª–æ–≤–∞ ¬´–¥–≤–µ—Ä—å¬ª –≤ —Ä—è–¥—É: –¥–≤–µ—Ä—å, –æ–∫–Ω–æ, —Å—Ç–µ–Ω–∞, ...", options: ["–∫—Ä—ã—à–∞", "—Å—Ç—É–ª", "–ø–æ–ª", "—à–∫–∞—Ñ"], correct: "a" },
    { text: "–ß—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–Ω–µ—Ç–æ–π?", options: ["–ó–µ–º–ª—è", "–í–µ–Ω–µ—Ä–∞", "–õ—É–Ω–∞", "–Æ–ø–∏—Ç–µ—Ä"], correct: "c" },
    { text: "–ï—Å–ª–∏ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, —Ç–æ —Å–µ–≥–æ–¥–Ω—è...", options: ["–ø—è—Ç–Ω–∏—Ü–∞", "—Å—É–±–±–æ—Ç–∞", "–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ", "—á–µ—Ç–≤–µ—Ä–≥"], correct: "a" },
    { text: "–ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ —Å–ª–æ–≤—É ¬´–∂–∏–∑–Ω—å¬ª ‚Äî —ç—Ç–æ...", options: ["—Å–º–µ—Ä—Ç—å", "—Ä–æ–∂–¥–µ–Ω–∏–µ", "–≤–¥–æ—Ö", "–¥–≤–∏–∂–µ–Ω–∏–µ"], correct: "a" },
    { text: "üî¥+üî¥=üü°; üî¥+üü°=üü†; üü†+üî¥=?", options: ["üü°", "üî¥", "üü†", "üîµ"], correct: "c" },
    { text: "–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –ø—Ä–æ–ø—É—â–µ–Ω–æ? 3, 6, ___, 12, 15", options: ["7", "8", "9", "10"], correct: "c" },
    { text: "–°–∫–æ–ª—å–∫–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ? (–ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, –∏—Ö 13)", options: ["10", "13", "15", "17"], correct: "b" },
    { text: "–ß—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∫–æ–º–ø—å—é—Ç–µ—Ä–∞?", options: ["–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä", "–ú–æ–Ω–∏—Ç–æ—Ä", "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞", "–¢–µ–ª–µ–≤–∏–∑–æ—Ä"], correct: "d" }
  ];

  let currentQuestionIndex = 0;
  let score = 0;
  let currentUser = null;

  const container = document.getElementById("testContainer");
  const questionContainer = document.getElementById("questionContainer");
  const nextBtn = document.getElementById("nextBtn");

  function startTest() {
    const username = document.getElementById("username").value.trim();
    if (!username) {
      alert("–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ—ë –∏–º—è!");
      return;
    }

    currentUser = username;
    document.querySelector(".container").style.display = "none";
    container.classList.remove("hidden");
    showQuestion();
  }

  function showQuestion() {
    const q = questions[currentQuestionIndex];
    questionContainer.innerHTML = `
      <p class="question"><strong>${currentQuestionIndex + 1}. ${q.text}</strong></p>
    `;
    q.options.forEach((option, idx) => {
      questionContainer.innerHTML += `
        <label>
          <input type="radio" name="answer" value="${String.fromCharCode(97 + idx)}">
          ${option}
        </label><br>`;
    });
  }

  function nextQuestion() {
    const selected = document.querySelector('input[name="answer"]:checked');
    if (!selected) {
      alert("–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç!");
      return;
    }

    const q = questions[currentQuestionIndex];
    if (selected.value === q.correct) {
      score++;
    }

    currentQuestionIndex++;

    if (currentQuestionIndex < questions.length) {
      showQuestion();
    } else {
      saveResult();
      showDashboard();
    }
  }

  function saveResult() {
    const key = `iq_results_${currentUser}`;
    const results = JSON.parse(localStorage.getItem(key)) || [];
    results.push(score);
    localStorage.setItem(key, JSON.stringify(results));
  }

  function showDashboard() {
    container.style.display = "none";
    document.getElementById("dashboard").classList.remove("hidden");

    const key = `iq_results_${currentUser}`;
    const results = JSON.parse(localStorage.getItem(key)) || [];

    document.getElementById("userGreeting").textContent = `–ü—Ä–∏–≤–µ—Ç, ${currentUser}!`;
    document.getElementById("lastScore").textContent = `${results[results.length - 1]} –∏–∑ ${questions.length}`;

    renderChart(results);
  }

  function renderChart(data) {
    const ctx = document.getElementById('scoreChart').getContext('2d');

    if (window.myChartInstance) window.myChartInstance.destroy();

    window.myChartInstance = new Chart(ctx, {
      type: 'line',
      data: {
        labels: data.map((_, i) => `–¢–µ—Å—Ç ${i + 1}`),
        datasets: [{
          label: '–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (%)',
          data: data.map(s => Math.round((s / questions.length) * 100)),
          fill: true,
          borderColor: '#fff',
          backgroundColor: 'rgba(255, 255, 255, 0.3)',
          tension: 0.4
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            ticks: {
              color: '#fff'
            }
          },
          x: {
            ticks: {
              color: '#fff'
            }
          }
        },
        plugins: {
          legend: {
            labels: {
              color: '#fff'
            }
          }
        }
      }
    });
  }

  function restartTest() {
    currentQuestionIndex = 0;
    score = 0;
    document.getElementById("dashboard").classList.add("hidden");
    container.classList.remove("hidden");
    showQuestion();
  }
</script>

</body>
</html>
